<templates>
    <div t-name="web_gmaps_action.Map" class="bs3">
        <section class="row">
            <div class="container page-header">
              <div class="btn-group">
                  <a href="#" class="btn btn-default oe_load_map" data-placement="bottom"
                      data-original-title="Load View" data-content="Load the map view, it is
                      generally loaded one time." data-trigger="hover">Load map</a>
              </div>
              <div class="pull-right">
                  <a href="#" t-if="widget.action.help" class="btn btn-default helpbutton"
                     data-placement="bottom" data-animation="true" data-html="true"
                     t-att-data-content="widget.action.help"><span
                         class="glyphicon glyphicon-question-sign"/></a>
                  <a href="#" t-if="!widget.action.help" class="btn btn-default helpbutton"
                     data-placement="left" data-animation="true" data-html="false"
                     t-att-data-content="'If you set a good help in the action it will appear here, it supports short html'">?</a>
              </div>
            </div>
        </section>
        <section class="row oe_section_map" style="display: none;">
        <div class="container">
            <div class="col-md-4 text-center">
                <div>
                <a href="#" class='shape_b btn-default btn' data-placement="bottom"
                   data-original-title="Activate map Controls" 
                   data-content="By default the map controls are deactivated, click here to be able to Add point, if not you only will be able to 'Edit them'." data-trigger="hover">Activate Map Controls</a>
                </div>
                <hr/>
                <table class="table table-striped">
                    <thead class="text-center">
                    <tr>
                        <td>Model</td>
                        <td>Area</td>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td><t t-raw="widget.res_model"/></td>
                        <td><div id='shape_area' class="text-center"></div></td>
                    </tr>
                    </tbody>
                </table> 
                <!--We add a placeholder where the list element widget will be appended to-->
                <div class="row col-md-12">
                    <div class="oe_list_placeholder">
                    </div>
                </div>
            </div>
            <div id="map_canvas" class="oe_map_canvas col-md-8">
            </div>
        </div>
        <div class="row" style="display:none;">
            <table class="table table-striped">
                <thead class="text-center">
                <tr>
                    <td>Puntos</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td> <div id='paths'> </div> </td>
                </tr>
                </tbody>
            </table> 
        </div>
        </section>
    </div>
    <div t-name="web_gmaps_action.ListElements">
        <t t-if="widget.session.username=='anonymous'">
            <div class="alert alert-danger">
                <p class="lead">Debes estar logueado para ver los efectos de hacer pull y push de
                    datos</p>
            </div>
        </t>
        <t t-if="!(widget.session.username=='anonymous')">
        <table class="table table-striped">
        <!-- Bootstrap classes are added only for look and Feel remember all this code is not
             necesary if you use a ViewList widget, but it is not our case becasue we want
             ilustrate the "retreive data" concept -->
            <thead>
                <tr>
                    <td> Link </td>
                    <td> ID </td>
                    <td> name </td>
                    <td> comments </td>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
        </t>
    </div>
    <t t-name='Gmaps.action_buttons'>
       <div class="btn-group">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                          Actions
            <span class="caret"></span>
          </button>
          <ul class="dropdown-menu">
          <li><a t-att-href="'#model='+widget.model+'&amp;id='+result.id" >Open Record</a></li>
          <li><a href="#" t-att-data-id="result.id" class="oe_save_btn" title="update the comment with computed info">Save Info</a></li>
          </ul>
        </div>
    </t>
</templates>
